<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="SentireChat.Pages.LoginPage"
    Title="SentireChat">

    <Grid Padding="24" RowDefinitions="Auto,Auto,*,Auto" RowSpacing="18">

        <!-- Logo / Título -->
        <VerticalStackLayout Grid.Row="0" Spacing="8">
            <Label Text="SentireChat"
                   FontSize="28"
                   FontAttributes="Bold" />
            <Label Text="Atendimento do WhatsApp com acesso seguro"
                   Opacity="0.75"
                   FontSize="14" />
        </VerticalStackLayout>

        <!-- Card -->
        <Frame Grid.Row="1" Padding="16" CornerRadius="16">
            <VerticalStackLayout Spacing="12">

                <Label Text="Entrar"
                       FontSize="18"
                       FontAttributes="Bold" />

                <Label x:Name="StatusLabel"
                       Text="Faça login para acessar as conversas."
                       Opacity="0.8" />

                <Button x:Name="LoginButton"
                        Text="Entrar com Microsoft"
                        Clicked="OnLoginClicked" />

                <Button x:Name="LogoutButton"
                        Text="Sair"
                        IsVisible="False"
                        Clicked="OnLogoutClicked" />

            </VerticalStackLayout>
        </Frame>

        <!-- Espaço -->
        <Grid Grid.Row="2" />

        <!-- Rodapé -->
        <Label Grid.Row="3"
               Text="Versão de demonstração"
               HorizontalOptions="Center"
               Opacity="0.6"
               FontSize="12" />

        <!-- Overlay de loading -->
        <Grid x:Name="LoadingOverlay"
              IsVisible="False"
              BackgroundColor="#80000000"
              Grid.RowSpan="4">
            <Frame Padding="18" CornerRadius="16" VerticalOptions="Center" HorizontalOptions="Center">
                <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                    <ActivityIndicator IsRunning="True" />
                    <Label x:Name="LoadingText" Text="Carregando..." />
                </VerticalStackLayout>
            </Frame>
        </Grid>

    </Grid>
</ContentPage>